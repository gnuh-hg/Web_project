/* ==========================================================================
   1. GLOBAL & RESET STYLES
   ========================================================================== */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

/* ==========================================================================
   2. SIDEBAR LAYOUT
   ========================================================================== */
.sidebar-nav {
    position: relative;
    display: flex;
    /* display: none; */
    flex-direction: column;
    margin: 5px;
    margin-left: 0;
    width: calc(20% - 5px);
    min-width: 200px;
    height: calc(100vh - 60px);
    background-color: #1a1a20;
    border-top-right-radius: 8px;
    border-bottom-right-radius: 8px;
    box-shadow: 8px 0 24px rgba(0, 0, 0, 0.35);
}

/* folder-container */
.folder-container {
    background-color: transparent;
    padding: 5px;
}

/* Container chung cho danh sách */
.list-wrapper {
    width: 100%;
    min-height: 5px;
    list-style: none;
    background-color: transparent;
    color: #dbdee1;
    font-size: 14px;
    outline: none;
    margin: 0;
    padding: 0;
}

/* ==========================================================================
   3. FOLDER ITEM (PARENT)
   ========================================================================== */
.folder-item {
    width: 100%;
    background-color: transparent;
    border-radius: 5px;
    margin: 0;
    color: #dbdee1;
    font-size: 14px;
    outline: none;
}

/* Header của Folder */
.folder-item div.item-header {
    display: flex;
    width: 100%;
    padding: 5px 5px;
    margin: 0;
    background-color: transparent;
    border-radius: 5px;
    color: #dbdee1;
    font-size: 14px;
    outline: none;
}

.folder-item div.item-header p.label {
    position: relative;
    top: 3px;
    margin-left: 0;
    margin-right: auto;
    background-color: transparent;
}

/* Icons trong Folder Header */
.folder-item div.item-header svg {
    width: 15px;
    margin-right: 4px;
    background-color: transparent;
}

/* folder-icon */
.folder-item div.item-header svg.folder-icon {
    width: 22px;
}

.folder-item div.item-header svg.folder-icon path {
    stroke-width: 3;
    stroke-linejoin: round;
    stroke-linecap: round;
}

.folder-item div.item-header svg polyline {
    fill: none;
    stroke: white;
    stroke-width: 2.5;
    stroke-linecap: round;
    stroke-linejoin: round;
}

/* Trạng thái Expand/Collapse của Folder */
.folder-item div.item-header svg.icon-expanded {
    display: none;
}

.folder-item div.item-content {
    display: none;
    margin-left: 12px;
    background-color: transparent;
}

.folder-item.is-expanded > .item-content {
    display: block;
}

.item-content .list-wrapper {
    min-height: 10px;
}

/* ==========================================================================
   4. PROJECT ITEM (CHILD)
   ========================================================================== */
.project-item-child {
    display: flex;
    width: 100%;
    padding: 5px;
    margin-left: 0px;
    background-color: transparent;
    border-radius: 5px;
}

.project-item-child p {
    background-color: transparent;
    color: #dbdee1;
    font-size: 14px;
    outline: none;
}

/* project-icon */
.project-item-child svg.project-icon {
    width: 10px;
    margin-right: 10px;
    margin-left: 5px;
    background-color: transparent;
}

.project-item-child svg.project-icon circle {
    stroke-width: 4;
}

/* ==========================================================================
   5. ACTION BUTTONS (MORE/MODAL TRIGGER)
   ========================================================================== */
/* Nút ba chấm (More actions) */
.folder-item div.item-header div.modal-more,
.project-item-child div.modal-more {
    display: none;
    width: 25px;
    margin-left: auto;
    background-color: transparent;
}

.folder-item div.item-header div.modal-more {
    position: relative;
}

.folder-item div.item-header div.modal-more svg.action-more {
    position: relative;
    top: 1px;
    width: 25px;
    margin-left: auto;
    background-color: transparent;
    cursor: pointer;
}

.project-item-child div.modal-more svg.action-more {
    position: relative;
    bottom: 3px;
    width: 25px;
    margin-left: auto;
    background-color: transparent;
    cursor: pointer;
}

svg.action-more circle {
    fill: white;
}

/* Sidebar Actions (Bottom area) */
.sidebar-actions {
    display: flex;
    margin-top: auto;
    background-color: transparent;
    border-top: 1px solid #2b2d31;
}

.add-button {
    display: flex;
    align-items: center;
    width: 100%;
    height: 100%;
    padding: 10px 0;
    background-color: transparent;
    border: none;
    cursor: pointer;
}

.add-button p {
    background-color: transparent;
    color: #ef5541;
}

.icon-plus {
    background-color: transparent;
}

.icon-plus svg {
    position: relative;
    width: 18px;
    height: 18px;
    margin-right: 5px;
    margin-left: 5px;
    fill: #ef5541;
    background-color: transparent;
}

.icon-folder-plus {
    position: relative;
    top: 2px;
    margin-left: auto;
    margin-right: 0px;
    background-color: transparent;
}

.icon-folder-plus svg {
    width: 25px;
    stroke: #ef5541;
    background-color: transparent;
}

.icon-folder-plus svg path {
    fill: none;
    stroke-width: 4;
    stroke-linejoin: round;
    stroke-linecap: round;
    mask: url(#folder-mask);
}

/* ==========================================================================
   6. INTERACTION STATES (HOVER & DRAG)
   ========================================================================== */
.list-wrapper li.project-item-child:hover, 
.list-wrapper li.folder-item div.item-header:hover {
    background-color: #2b2d31;
}

.list-wrapper li.project-item-child:hover > div.modal-more, 
.list-wrapper li.folder-item div.item-header:hover > div.modal-more {
    display: block;
}

.folder-item:hover > div.item-content {
    border-left: 1px solid #2b2d31;
    margin-left: 11px;
}

.add-button:hover p,
.add-button:hover .icon-plus svg {
    color: #f27767;
    fill: #f27767;
}

.add-button:hover .icon-folder-plus svg {
    stroke: #f27767;
}

.drag-ghost {
    opacity: 0.4;
    background-color: #2b2d31 !important;
    border: 1px dashed #00FFFF;
}

/* ==========================================================================
   7. MODAL UI COMPONENTS
   ========================================================================== */
/* Overlay nền */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1000;
    display: none;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
}

.modal-overlay.show-add .modal-box {
    display: flex;
}

.modal-overlay.show-more .modal-more-box {
    display: flex;
}

/* Cấu trúc chung của Modal Box */
.modal-box, .modal-more-box {
    position: fixed;
    display: none;
    flex-direction: column;
    top: 0; right: 0; bottom: 0; left: 0;
    margin: auto;
    width: 300px;
    height: 170px;
    background-color: #1a1a20;
    border-radius: 10px;
    box-shadow: 8px 0 24px rgba(0, 0, 0, 0.35);
}

.modal-more-box {
    padding-top: 10px;
}

/* Tabs trong Modal */
.modal-tabs {
    display: flex;
    width: 100%;
    height: 20%;
    background-color: transparent;
}

.modal-tabs button {
    position: relative;
    width: 100%;
    background-color: transparent;
    border: none;
    border-bottom: 1px solid #2b2d31;
    font-size: 15px;
    cursor: pointer;
}

/* btn-tab-project -> btn-tab-folder */
.modal-tabs button.btn-tab-folder {
    border-bottom: 1px solid #00FFFF;
}

/* Form Elements */
/* project-form -> folder-form | task-form -> project-form */
.folder-form, .project-form, .form {
    background-color: transparent;
}

.project-form {
    display: none;
}

.input-group {
    display: flex;
    align-items: center;
    margin: 8px 20px;
    padding: 7px 12px;
    background-color: #24242a;
    border-radius: 8px;
    transition: background-color 0.2s;
}

.input-group:focus-within {
    background-color: #2b2d31;
}

.modal-input {
    width: 100%;
    background: transparent;
    border: none;
    color: #dbdee1;
    font-size: 15px;
    outline: none;
}

.modal-input::placeholder {
    color: #949ba4;
}

/* Color Palette */
.color-palette {
    display: grid;
    grid-template-columns: repeat(10, 20px); 
    gap: 6px; 
    margin: auto;
    margin-top: 0;
    background-color: transparent;
}

.color-swatch {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    transition: transform 0.2s;
}

.color-swatch:hover {
    transform: scale(1.1);
}

.color-swatch.selected::after {
    content: '';
    width: 3px;
    height: 6px;
    margin-bottom: 2px;
    border: solid white;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
}

/* Footer Modal Buttons */
.confirm-box {
    display: flex;
    margin-left: auto;
    background-color: transparent;
}

.confirm-box p {
    padding: 5px;
    margin: 9px;
    background-color: transparent;
    border: 1px solid #2b2d31;
    border-radius: 5px;
    font-size: 15px;
    cursor: pointer;
}

.confirm-box p:hover {
    background-color: #2b2d31;
}